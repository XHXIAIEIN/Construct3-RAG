{
  "id": "usermedia",
  "originalId": "UserMedia",
  "name_zh": "用户媒体",
  "name_en": "User Media",
  "description_zh": "访问摄像头或麦克风设备，获取用户设备的实时媒体信息。",
  "description_en": "Get live media from the user using a camera or microphone device.",
  "path": "media/usermedia",
  "categories": [
    "ambient-light",
    "canvas-recording",
    "media-request",
    "speech-recognition",
    "speech-synthesis",
    "user-media"
  ],
  "conditions": [
    {
      "id": "on-reading-update",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnDeviceLight",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "ambient-light"
    },
    {
      "id": "on-canvas-recording-ready",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnCanvasRecordingReady",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "canvas-recording"
    },
    {
      "id": "is-canvas-recording-supported",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "SupportsCanvasRecording",
      "isDeprecated": true,
      "category": "canvas-recording"
    },
    {
      "id": "is-recording-format-supported",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "IsCanvasRecordFormatSupported",
      "isDeprecated": true,
      "category": "canvas-recording",
      "params": [
        {
          "id": "format",
          "type": "combo",
          "name_zh": "",
          "name_en": "",
          "items": [
            "webm-vp8",
            "webm-vp9"
          ]
        }
      ]
    },
    {
      "id": "on-media-request-approved",
      "name_zh": "权限被允许",
      "name_en": "On media request approved",
      "description_zh": "用户批准媒体请求提示时触发。",
      "description_en": "Triggered after the user approves the prompt from a media request.",
      "scriptName": "OnApproved",
      "isTrigger": true,
      "category": "media-request"
    },
    {
      "id": "on-media-request-declined",
      "name_zh": "权限被拒绝",
      "name_en": "On media request declined",
      "description_zh": "用户拒绝媒体请求提示，或遇到了错误时触发。",
      "description_en": "Triggered on an error, or if the user declines the prompt from a media request.",
      "scriptName": "OnDeclined",
      "isTrigger": true,
      "category": "media-request"
    },
    {
      "id": "on-retrieved-media-sources",
      "name_zh": "获取设备列表成功",
      "name_en": "On retrieved media sources",
      "description_zh": "执行 '获取设备列表' 动作后，成功获取到设备列表时触发。",
      "description_en": "Triggered after 'Get media sources' when the media source list is available.",
      "scriptName": "OnMediaSources",
      "isTrigger": true,
      "category": "media-request"
    },
    {
      "id": "on-snapshot",
      "name_zh": "截屏完成",
      "name_en": "On snapshot ready",
      "description_zh": "执行 '截屏' 动作后，成功返回 '截屏文件地址' 表达式时触发。",
      "description_en": "Triggered after the 'Snapshot' action when the snapshot URL is ready.",
      "scriptName": "OnSnapshot",
      "isTrigger": true,
      "category": "media-request"
    },
    {
      "id": "supports-speech-recognition",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "SupportsSpeechRecognition",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "on-start",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnSpeechRecognitionStart",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "on-end",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnSpeechRecognitionEnd",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "on-error",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnSpeechRecognitionError",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "on-result",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "OnSpeechRecognitionResult",
      "isTrigger": true,
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "is-recognising-speech",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "IsRecognisingSpeech",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "supports-speech-synthesis",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "SupportsSpeechSynthesis",
      "isDeprecated": true,
      "category": "speech-synthesis"
    },
    {
      "id": "is-speaking",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "IsSpeaking",
      "isDeprecated": true,
      "category": "speech-synthesis"
    },
    {
      "id": "supports-user-media",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "SupportsUserMedia",
      "isDeprecated": true,
      "category": "user-media"
    }
  ],
  "actions": [
    {
      "id": "start-recording-canvas",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "StartRecordingCanvas",
      "isDeprecated": true,
      "category": "canvas-recording",
      "params": [
        {
          "id": "format",
          "type": "combo",
          "name_zh": "",
          "name_en": "",
          "items": [
            "webm-vp8",
            "webm-vp9"
          ]
        },
        {
          "id": "quality-kbps",
          "type": "number",
          "name_zh": "",
          "name_en": "",
          "initialValue": "2500"
        },
        {
          "id": "framerate",
          "type": "number",
          "name_zh": "",
          "name_en": ""
        }
      ]
    },
    {
      "id": "stop-recording-canvas",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "StopRecordingCanvas",
      "isDeprecated": true,
      "category": "canvas-recording"
    },
    {
      "id": "request-camera",
      "name_zh": "请求使用摄像头",
      "name_en": "Request camera",
      "description_zh": "向用户请求访问相机的权限作为视频输入。（如果设备支持）",
      "description_en": "Prompt the user for access to video input from a camera, if one is present.",
      "scriptName": "RequestCamera",
      "isAsync": true,
      "category": "media-request",
      "params": [
        {
          "id": "source",
          "type": "number",
          "name_zh": "设备源",
          "name_en": "Source"
        },
        {
          "id": "preferred-direction",
          "type": "combo",
          "name_zh": "摄像头",
          "name_en": "Preferred direction",
          "items": [
            "any",
            "user",
            "environment"
          ],
          "items_i18n": {
            "any": {
              "zh": "任意",
              "en": "Any"
            },
            "user": {
              "zh": "前置",
              "en": "User-facing"
            },
            "environment": {
              "zh": "后置",
              "en": "Environment-facing"
            }
          }
        },
        {
          "id": "preferred-width",
          "type": "number",
          "name_zh": "预设宽度",
          "name_en": "Preferred width"
        },
        {
          "id": "preferred-height",
          "type": "number",
          "name_zh": "预设高度",
          "name_en": "Preferred height"
        },
        {
          "id": "include-mic",
          "type": "boolean",
          "name_zh": "包含麦克风",
          "name_en": "Include microphone"
        },
        {
          "id": "mic-source",
          "type": "number",
          "name_zh": "麦克风源",
          "name_en": "Microphone source"
        }
      ]
    },
    {
      "id": "stop",
      "name_zh": "结束",
      "name_en": "Stop",
      "description_zh": "结束访问用户媒体。",
      "description_en": "Stop accessing the user media.",
      "scriptName": "Stop",
      "category": "media-request"
    },
    {
      "id": "snapshot",
      "name_zh": "截屏",
      "name_en": "Snapshot",
      "description_zh": "保存摄像头当前拍摄的画面快照。完成后触发 '截屏完成' 条件。",
      "description_en": "Take a snapshot of the current image from the camera.  Use 'SnapshotURL' expression to get result.",
      "scriptName": "Snapshot",
      "isAsync": true,
      "category": "media-request",
      "params": [
        {
          "id": "format",
          "type": "combo",
          "name_zh": "格式",
          "name_en": "Format",
          "items": [
            "png",
            "jpeg"
          ],
          "items_i18n": {
            "png": {
              "zh": "PNG",
              "en": "PNG"
            },
            "jpeg": {
              "zh": "JPEG",
              "en": "JPEG"
            }
          }
        },
        {
          "id": "jpeg-quality",
          "type": "number",
          "name_zh": "JPEG品质",
          "name_en": "JPEG quality",
          "initialValue": "75"
        }
      ]
    },
    {
      "id": "request-microphone",
      "name_zh": "请求使用麦克风",
      "name_en": "Request microphone",
      "description_zh": "提示用户访问麦克风的音频输入（如果有）。 必须将Audio对象添加到项目中。",
      "description_en": "Prompt the user for access to audio input from a microphone, if one is present. The Audio object must be added to the project.",
      "scriptName": "RequestMic",
      "isAsync": true,
      "category": "media-request",
      "params": [
        {
          "id": "tag",
          "type": "string",
          "name_zh": "标签",
          "name_en": "Tag",
          "initialValue": "\"mic\""
        },
        {
          "id": "source",
          "type": "number",
          "name_zh": "设备源",
          "name_en": "Source"
        }
      ]
    },
    {
      "id": "get-media-sources",
      "name_zh": "获取设备源列表",
      "name_en": "Get media sources",
      "description_zh": "请求当前可用的媒体设备列表。完成后触发 '获取设备列表成功' 条件。",
      "description_en": "Request a list of the available media sources. 'On retrieved media sources' will trigger shortly after.",
      "scriptName": "GetMediaSources",
      "isAsync": true,
      "category": "media-request"
    },
    {
      "id": "request-speech-recognition",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "RequestSpeechRecognition",
      "isDeprecated": true,
      "category": "speech-recognition",
      "params": [
        {
          "id": "language",
          "type": "string",
          "name_zh": "",
          "name_en": "",
          "initialValue": "\"en\""
        },
        {
          "id": "mode",
          "type": "combo",
          "name_zh": "",
          "name_en": "",
          "items": [
            "continuous",
            "single-phrase"
          ]
        },
        {
          "id": "results",
          "type": "combo",
          "name_zh": "",
          "name_en": "",
          "items": [
            "interim",
            "final"
          ]
        }
      ]
    },
    {
      "id": "stop-speech-recognition",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "StepSpeechRecognition",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "speak-text",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "SpeakText",
      "isDeprecated": true,
      "category": "speech-synthesis",
      "params": [
        {
          "id": "text",
          "type": "string",
          "name_zh": "",
          "name_en": ""
        },
        {
          "id": "language",
          "type": "string",
          "name_zh": "",
          "name_en": ""
        },
        {
          "id": "voice-uri",
          "type": "string",
          "name_zh": "",
          "name_en": ""
        },
        {
          "id": "volume",
          "type": "number",
          "name_zh": "",
          "name_en": ""
        },
        {
          "id": "rate",
          "type": "number",
          "name_zh": "",
          "name_en": "",
          "initialValue": "1"
        },
        {
          "id": "pitch",
          "type": "number",
          "name_zh": "",
          "name_en": "",
          "initialValue": "1"
        }
      ]
    },
    {
      "id": "stop-speaking",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "StopSpeaking",
      "isDeprecated": true,
      "category": "speech-synthesis"
    },
    {
      "id": "pause-speaking",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "PauseSpeaking",
      "isDeprecated": true,
      "category": "speech-synthesis"
    },
    {
      "id": "resume-speaking",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "scriptName": "ResumeSpeaking",
      "isDeprecated": true,
      "category": "speech-synthesis"
    }
  ],
  "expressions": [
    {
      "id": "ambientlux",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "AmbientLux",
      "returnType": "number",
      "isDeprecated": true,
      "category": "ambient-light"
    },
    {
      "id": "canvasrecordingurl",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "CanvasRecordingURL",
      "returnType": "string",
      "isDeprecated": true,
      "category": "canvas-recording"
    },
    {
      "id": "finaltranscript",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "FinalTranscript",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "interimtranscript",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "InterimTranscript",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "speecherror",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "SpeechError",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-recognition"
    },
    {
      "id": "voicecount",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "VoiceCount",
      "returnType": "number",
      "isDeprecated": true,
      "category": "speech-synthesis"
    },
    {
      "id": "voicenameat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "VoiceNameAt",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-synthesis",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "",
          "name_en": ""
        }
      ]
    },
    {
      "id": "voicelangat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "VoiceLangAt",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-synthesis",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "",
          "name_en": ""
        }
      ]
    },
    {
      "id": "voiceuriat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "",
      "description_en": "",
      "expressionName": "VoiceURIAt",
      "returnType": "string",
      "isDeprecated": true,
      "category": "speech-synthesis",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "",
          "name_en": ""
        }
      ]
    },
    {
      "id": "videowidth",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取相机设备返回图像宽度。",
      "description_en": "Return the width of the image from the device camera.",
      "expressionName": "VideoWidth",
      "returnType": "number",
      "category": "user-media"
    },
    {
      "id": "videoheight",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取相机设备返回图像高度。",
      "description_en": "Return the height of the image from the device camera.",
      "expressionName": "VideoHeight",
      "returnType": "number",
      "category": "user-media"
    },
    {
      "id": "snapshoturl",
      "name_zh": "",
      "name_en": "",
      "description_zh": "在 '截屏完成' 条件中，返回的图像文件地址。可用于精灵或平铺图的加载远程图像动作。",
      "description_en": "Return a data URI containing image data from a snapshot. Can be set to a Sprite or Tiled Background.",
      "expressionName": "SnapshotURL",
      "returnType": "string",
      "category": "user-media"
    },
    {
      "id": "audiosourcecount",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取音频源的数量。",
      "description_en": "Return the number of audio sources available.",
      "expressionName": "AudioSourceCount",
      "returnType": "number",
      "category": "user-media"
    },
    {
      "id": "audiosourcelabelat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取音频源的标签。",
      "description_en": "Return the label of a given audio source.",
      "expressionName": "AudioSourceLabelAt",
      "returnType": "string",
      "category": "user-media",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "索引",
          "name_en": "Index"
        }
      ]
    },
    {
      "id": "camerasourcecount",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取可用的摄像机源的数量。",
      "description_en": "Return the number of camera sources available.",
      "expressionName": "CameraSourceCount",
      "returnType": "number",
      "category": "user-media"
    },
    {
      "id": "camerasourcelabelat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取摄像头的标签。",
      "description_en": "Return the label of a given camera source.",
      "expressionName": "CameraSourceLabelAt",
      "returnType": "string",
      "category": "user-media",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "索引",
          "name_en": "Index"
        }
      ]
    },
    {
      "id": "camerasourcefacingat",
      "name_zh": "",
      "name_en": "",
      "description_zh": "获取摄像机源的朝向，例如前置/后置摄像头。",
      "description_en": "Return the facing (e.g. front/back) of a given camera source.",
      "expressionName": "CameraSourceFacingAt",
      "returnType": "string",
      "category": "user-media",
      "params": [
        {
          "id": "index",
          "type": "number",
          "name_zh": "索引",
          "name_en": "Index"
        }
      ]
    }
  ],
  "productTypes": "games"
}